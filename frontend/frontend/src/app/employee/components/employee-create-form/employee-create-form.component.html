<ng-container>
  <h1>{{formText}}</h1>
<!--  {{employeeForm.value|json}}-->
  <div *ngIf="!isEditMode; else isEditModeForm">
  <form [formGroup]="employeeForm" >
    <mat-form-field appearance="fill">
      <mat-label>First name</mat-label>
      <input matInput type="text" placeholder="First name" formControlName="firstname"/>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Last name</mat-label>
      <input matInput placeholder="Last name" formControlName="lastname"/>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Email address</mat-label>
      <input matInput placeholder="Email" formControlName="email"/>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Phone number</mat-label>
      <input matInput placeholder="00 00 00 00" formControlName="phoneNumber"/>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Choose a department</mat-label>
      <mat-select formControlName="department">
        <mat-option *ngFor="let department of departments" [value]="department">{{department.departmentName}}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Choose a role</mat-label>
      <mat-select formControlName="roleDto">
        <mat-option *ngFor="let role of roles" [value]="role">{{role.name}}</mat-option>
      </mat-select>
    </mat-form-field>


    <mat-form-field appearance="fill">
      <mat-label>Username</mat-label>
      <input matInput placeholder="Username" formControlName="username"/>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Password</mat-label>
      <input matInput placeholder="****" type="password" formControlName="password"/>
    </mat-form-field>

    <button mat-raised-button class="mat-primary form-submit-btn" [matTooltip]="'Create employee'" [mat-dialog-close] (click)="submit()"  [disabled]="!this.employeeForm.valid">Submit</button>
    <button mat-raised-button class="mat-warn form-submit-btn" [matTooltip]="'Abort creation of employee'" (click)="cancel()">Cancel</button>
  </form>
  </div>
</ng-container>

<ng-template #isEditModeForm>
  <form [formGroup]="employeeForm">
    <mat-form-field appearance="fill">
      <mat-label>First name</mat-label>
      <input matInput placeholder="Firstname" formControlName="firstname"/>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Last name</mat-label>
      <input matInput placeholder="Lastname" formControlName="lastname"/>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Email address</mat-label>
      <input matInput placeholder="Email" formControlName="email"/>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Phone number</mat-label>
      <input matInput placeholder="00000000" formControlName="phoneNumber"/>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-select formControlName="department" >
        <mat-option *ngFor="let department of departments"  [value]="department">{{department.departmentName}}</mat-option>
      </mat-select>
    </mat-form-field>

    <button mat-raised-button class="mat-primary form-submit-btn" [matTooltip]="'Update employee'" [mat-dialog-close] (click)="submit()"  [disabled]="!this.employeeForm.valid">Submit</button>
    <button mat-raised-button class="mat-warn form-submit-btn" [matTooltip]="'Abort update'" (click)="cancel()">Cancel</button>
  </form>
</ng-template>
